export default function ApiReferencePage() {\n  const internalApiDesign = `# b0ase.com Internal API Design\n\nThis document outlines the design for an internal API for b0ase.com. This API will serve as a layer of business logic on top of the Supabase backend, providing a more abstract and LLM-friendly interface for platform operations.\n\nThe API endpoints will be built as Next.js API Routes (likely under \`/app/api/v1/...\` or \`/app/api/internal/...\`).\n\n## Guiding Principles\n\n*   **LLM-Friendly:** Endpoints should accept structured data that\\'s easy for an LLM to generate and should return responses that are easy for an LLM to parse.\n*   **Business Logic Encapsulation:** Complex operations or those requiring multiple database interactions should be handled within a single API call.\n*   **Idempotency (where applicable):** Design operations to be idempotent if they might be retried.\n*   **Clear Error Handling:** Consistent error response formats.\n*   **User-Centric:** Operations are generally performed in the context of an authenticated user.\n\n## API Endpoint Ideas\n\n---\n\n### 1. User & Profile Operations\n\n*   **\`GET /users/me\`**\n    *   **Description:** Fetches the profile, skills, and teams for the currently authenticated user.\n    *   **Auth:** Required.\n    *   **Response:**\n        \`\`\`json\n        {\n          \"id\": \"user-uuid\",\n          \"display_name\": \"User Name\",\n          \"avatar_url\": \"url\",\n          \"email\": \"user@example.com\",\n          \"skills\": [{\"id\": \"skill-uuid\", \"name\": \"Skill Name\"}, ...],\n          \"teams\": [{\"id\": \"team-uuid\", \"name\": \"Team Name\", \"slug\": \"team-slug\", \"icon_name\": \"icon\", \"color_scheme\": \"color\"}, ...]\n        }\n        \`\`\`\n\n*   **\`PUT /users/me/profile\`**\n    *   **Description:** Updates the profile of the currently authenticated user.\n    *   **Auth:** Required.\n    *   **Request Body:**\n        \`\`\`json\n        {\n          \"display_name\": \"New User Name\", // optional\n          \"avatar_url\": \"new_url\" // optional (or handle avatar upload separately)\n        }\n        \`\`\`\n    *   **Response:** Updated user profile object.\n\n*   **\`POST /users/me/skills\`**\n    *   **Description:** Adds a skill to the user\\'s profile.\n    *   **Auth:** Required.\n    *   **Request Body:** \`{\"skill_id\": \"skill-uuid\"}\`\n    *   **Response:** Success/failure message.\n\n*   **\`DELETE /users/me/skills/{skill_id}\`**\n    *   **Description:** Removes a skill from the user\\'s profile.\n    *   **Auth:** Required.\n    *   **Response:** Success/failure message.\n\n---\n\n### 2. Diary & Task Operations\n\n*   **\`POST /diary/entries\`**\n    *   **Description:** Creates a new diary entry with optional action items.\n    *   **Auth:** Required.\n    *   **Request Body:**\n        \`\`\`json\n        {\n          \"title\": \"Diary Entry Title\",\n          \"summary\": \"Diary summary text.\",\n          \"action_items\": [\"Action Item 1 Text\", \"Action Item 2 Text\"] // optional\n        }\n        \`\`\`\n    *   **Response:** Created diary entry object with nested action items.\n\n*   **\`GET /diary/entries\`**\n    *   **Description:** Lists diary entries for the user, with their action items.\n    *   **Auth:** Required.\n    *   **Query Params:** \`limit\`, \`offset\`, \`date_range_start\`, \`date_range_end\`\n    *   **Response:** Paginated list of diary entries.\n\n*   **\`POST /diary/action-items/{action_item_id}/send-to-wip\`**\n    *   **Description:** Sends a specific diary action item to the Work In Progress (WIP) task list.\n    *   **Auth:** Required.\n    *   **Request Body:** (Optional) \`{\"project_scope_id\": \"scope-uuid\"}\` if scope is known.\n    *   **Response:**\n        \`\`\`json\n        {\n          \"message\": \"Action item sent to WIP.\",\n          \"wip_task_id\": \"new-wip-task-uuid\",\n          \"diary_action_item_id\": \"action-item-uuid\",\n          \"updated_action_item_status\": \"completed\"\n        }\n        \`\`\`\n\n*   **\`GET /tasks\` (WIP Tasks)**\n    *   **Description:** Fetches WIP tasks for the user.\n    *   **Auth:** Required.\n    *   **Query Params:** \`status\`, \`project_scope_id\`, \`due_date_start\`, \`due_date_end\`, \`sort_by\`, \`limit\`, \`offset\`\n    *   **Response:** Paginated list of tasks.\n        \`\`\`json\n        // Task structure similar to DatabaseTask in app/workinprogress/page.tsx\n        {\n          \"id\": \"task-uuid\",\n          \"text\": \"Task description\",\n          \"status\": \"TO_DO\",\n          \"project_scope_id\": \"scope-uuid\", // or null\n          \"project_scope_name\": \"Scope Name\", // denormalized for convenience\n          \"source_diary_action_item_id\": \"action-item-uuid\", // or null\n          \"created_at\": \"timestamp\",\n          \"updated_at\": \"timestamp\",\n          \"due_date\": \"date\" // or null\n        }\n        \`\`\`\n\n*   **\`POST /tasks\` (WIP Tasks)**\n    *   **Description:** Creates a new WIP task directly.\n    *   **Auth:** Required.\n    *   **Request Body:**\n        \`\`\`json\n        {\n          \"text\": \"New task description\",\n          \"status\": \"TO_DO\", // optional, defaults to TO_DO\n          \"project_scope_id\": \"scope-uuid\" // optional\n          // other fields like due_date\n        }\n        \`\`\`\n    *   **Response:** Created task object.\n\n*   **\`PUT /tasks/{task_id}\` (WIP Tasks)**\n    *   **Description:** Updates a WIP task (status, scope, text, etc.).\n    *   **Auth:** Required.\n    *   **Request Body:** Partial task object with fields to update.\n    *   **Response:** Updated task object.\n\n*   **\`DELETE /tasks/{task_id}\` (WIP Tasks)**\n    *   **Description:** Deletes a WIP task.\n    *   **Auth:** Required.\n    *   **Response:** Success/failure message.\n\n---\n\n### 3. Team Operations\n\n*   **\`GET /teams\`**\n    *   **Description:** Lists teams the current user is a member of.\n    *   **Auth:** Required.\n    *   **Response:** List of team objects (id, name, slug, icon_name, color_scheme).\n\n*   **\`POST /teams/join\`**\n    *   **Description:** Allows user to join an existing team (e.g., by team ID or slug).\n    *   **Auth:** Required.\n    *   **Request Body:** \`{\"team_id\": \"team-uuid\"}\` or \`{\"team_slug\": \"team-slug\"}\`\n    *   **Response:** Team membership details or success/error.\n\n*   **\`GET /teams/{team_id_or_slug}/messages\`**\n    *   **Description:** Fetches messages for a specific team.\n    *   **Auth:** Required (user must be a member).\n    *   **Query Params:** \`limit\`, \`before_message_id\` (for pagination)\n    *   **Response:** List of message objects.\n        \`\`\`json\n        // Message structure similar to app/teams/[slug]/page.tsx\n        {\n          \"id\": \"message-uuid\",\n          \"content\": \"Message text\",\n          \"created_at\": \"timestamp\",\n          \"user_id\": \"user-uuid\",\n          \"author\": {\n            \"display_name\": \"Author Name\",\n            \"avatar_url\": \"url\"\n          }\n        }\n        \`\`\`\n\n*   **\`POST /teams/{team_id_or_slug}/messages\`**\n    *   **Description:** Posts a new message to a team.\n    *   **Auth:** Required (user must be a member).\n    *   **Request Body:** \`{\"content\": \"New message text\"}\`\n    *   **Response:** Created message object.\n\n---\n\n### 4. Project Operations (Clients)\n\n*   **`GET /projects`**\n    *   **Description:** Lists client projects associated with the user.\n    *   **Auth:** Required.\n    *   **Response:** List of project objects (id, name).\n\n*   **`POST /projects/{project_id}/members/invite`** (Placeholder - invitation form is disabled)\n    *   **Description:** Invites a new member to a project.\n    *   **Auth:** Required (user must have permissions).\n    *   **Request Body:** \`{\"email_to_invite\": \"invitee@example.com\", \"role\": \"editor\"}\`\n    *   **Response:** Invitation status.\n\n---\n\n### 5. Project Scopes\n\n*   **`GET /project-scopes`**\n    *   **Description:** Lists all available project scopes for the user (combining user\\'s clients and their general scopes).\n    *   **Auth:** Required.\n    *   **Response:** List of scope objects \`{\"id\": \"scope-uuid\", \"name\": \"Scope Name\"}\`.\n\n*   **`POST /project-scopes`**\n    *   **Description:** Creates a new general project scope for the user.\n    *   **Auth:** Required.\n    *   **Request Body:** \`{\"name\": \"New Scope Name\", \"description\": \"Optional description\"}\`\n    *   **Response:** Created scope object.\n`;\n\n  const mpcDesign = `# b0ase.com Model Context Protocol (MPC) Design\n\nThis document outlines a conceptual design for a Model Context Protocol (MPC) to enable LLM agents to interact with the b0ase.com internal API. The goal is to define how capabilities are exposed, context is managed, and interactions are structured.\n\n## Core Principles\n\n*   **Discoverability:** An LLM agent should be able to understand the available capabilities of the b0ase.com platform.\n*   **Clarity:** Instructions and data passed between LLMs should be unambiguous.\n*   **Contextual Awareness:** The b0ase.com agent/API should receive sufficient context to fulfill requests accurately.\n*   **Structured I/O:** Interactions should rely on well-defined schemas (e.g., JSON) for requests and responses.\n*   **Error Handling:** LLM-friendly error messages that can guide retries or clarification.\n\n## Components of the MPC\n\n### 1. Capability Manifest / Function Definitions\n\nThe b0ase.com platform will expose its capabilities (corresponding to the internal API endpoints) as a set of \"functions\" or \"tools\" that an LLM can call. This manifest would be accessible to authorized LLM agents.\n\nEach function definition would include:\n\n*   **\`name\`**: A unique, descriptive name (e.g., \`create_diary_entry\`, \`get_user_tasks\`).\n*   **\`description\`**: A natural language description of what the function does, intended for the LLM to understand its purpose.\n*   **\`parameters\`**: A JSON Schema object defining the expected input parameters, their types, whether they are required, and descriptions for each parameter.\n    *   Example for \`create_diary_entry\`:\n        \`\`\`json\n        {\n          \"type\": \"object\",\n          \"properties\": {\n            \"title\": {\"type\": \"string\", \"description\": \"The title of the diary entry.\"},\n            \"summary\": {\"type\": \"string\", \"description\": \"The main content/summary of the diary entry.\"},\n            \"action_items\": {\n              \"type\": \"array\",\n              \"items\": {\"type\": \"string\"},\n              \"description\": \"A list of action item texts related to this entry. Optional.\"\n            }\n          },\n          \"required\": [\"title\", \"summary\"]\n        }\n        \`\`\`\n*   **\`returns\`**: (Optional but recommended) A JSON Schema object describing the expected structure of the successful response.\n\nThis is very similar to OpenAI\\'s Function Calling or tool usage patterns.\n\n### 2. Interaction Flow (Example)\n\n1.  **User to User\\'s LLM:** \"Hey LLM, tell b0ase.com to create a new diary entry for today\\'s meeting about the Q3 roadmap. The summary is \'Discussed key milestones and potential blockers.\' And add an action item: \'Draft Q3 roadmap document by EOW.\'\"\n2.  **User\\'s LLM to b0ase.com LLM Gateway (which uses the MPC):**\n    *   The User\\'s LLM identifies the intent: \`create_diary_entry\`.\n    *   It consults the b0ase.com capability manifest.\n    *   It formats a request (e.g., a JSON payload for an API call, or a structured prompt if b0ase.com has its own LLM agent).\n    *   **Context Passed:**\n        *   Authenticated User Token (handled by the underlying API call).\n        *   Function call: \`create_diary_entry\`\n        *   Arguments:\n            \`\`\`json\n            {\n              \"title\": \"Today\\'s Meeting: Q3 Roadmap\",\n              \"summary\": \"Discussed key milestones and potential blockers.\",\n              \"action_items\": [\"Draft Q3 roadmap document by EOW.\"]\n            }\n            \`\`\`\n\n3.  **b0ase.com Internal API Execution:** The internal API endpoint for creating a diary entry is invoked.\n4.  **b0ase.com LLM Gateway to User\\'s LLM:** Returns a structured response.\n    *   **Success:**\n        \`\`\`json\n        {\n          \"status\": \"success\",\n          \"operation\": \"create_diary_entry\",\n          \"data\": { /* ... created diary entry object ... */ },\n          \"message\": \"Diary entry \'Today\\'s Meeting: Q3 Roadmap\' created successfully with 1 action item.\"\n        }\n        \`\`\`\n    *   **Error:**\n        \`\`\`json\n        {\n          \"status\": \"error\",\n          \"operation\": \"create_diary_entry\",\n          \"error_code\": \"VALIDATION_ERROR\", // or \"PERMISSION_DENIED\", \"INTERNAL_ERROR\"\n          \"message\": \"Title is required for a diary entry.\",\n          \"details\": { /* ... optional further details ... */ }\n        }\n        \`\`\`\n5.  **User\\'s LLM to User:** \"Okay, I\\'ve told b0ase.com to create the diary entry \'Today\\'s Meeting: Q3 Roadmap\' with your action item.\"\n\n### 3. Context Management\n\n*   **User Identification:** All interactions are tied to an authenticated user. The internal API would handle this via tokens.\n*   **Session/Conversation Context (Advanced):** For more complex, multi-turn interactions initiated by an LLM, the MPC might need to define how conversational state or context is passed back and forth if the b0ase.com agent needs to remember previous turns of *its specific interaction with the calling LLM*. This could be managed via session IDs or by having the calling LLM summarize and pass relevant history.\n*   **User Preferences/Platform State:** The b0ase.com agent should have access to relevant user preferences and current platform state (e.g., current project, last viewed team) via the internal API to provide more contextual responses and actions, even if not explicitly stated in every LLM request.\n\n### 4. Authentication & Authorization\n\n*   LLM agent interactions with the b0ase.com internal API must be securely authenticated (e.g., API keys for trusted LLM services, or OAuth for user-delegated LLM actions).\n*   Authorization will be enforced by the internal API based on the authenticated user\\'s permissions.\n\n## Example LLM \"Tool\" Definition (for b0ase.com)\n\nAn LLM interacting with b0ase.com would be configured with tools like this:\n\n\`\`\`json\n{\n  \"type\": \"function\",\n  \"function\": {\n    \"name\": \"b0ase_send_diary_action_item_to_wip\",\n    \"description\": \"Sends a specific action item from a user\\'s diary to their Work In Progress (WIP) task list on b0ase.com. The action item is then typically marked as completed in the diary.\",\n    \"parameters\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"action_item_id\": {\n          \"type\": \"string\",\n          \"description\": \"The unique identifier (UUID) of the diary action item to send to WIP.\"\n        },\n        \"project_scope_id\": {\n          \"type\": \"string\",\n          \"description\": \"Optional. The unique identifier (UUID) of the project scope to associate with the new WIP task.\"\n        }\n      },\n      \"required\": [\"action_item_id\"]\n    }\n  }\n}\n\`\`\`\n\nThis MPC design provides a foundational sketch. It would evolve with more detailed schemas and interaction patterns as specific use cases are developed.\n`;\n\n  return (\n    <div className=\"container mx-auto px-4 py-8 text-gray-300 bg-gray-950 min-h-screen\">\n      <header className=\"mb-12\">\n        <h1 className=\"text-4xl font-bold text-white text-center\">b0ase.com API Reference</h1>\n        <p className=\"text-center text-gray-400 mt-2\">\n          This page provides a human-readable overview of the internal API design and Model Context Protocol (MPC).\n        </p>\n        <p className=\"text-center text-yellow-400 mt-1\">\n          Note: Functional API endpoints are located under <code>/api/v1/...</code> and are not directly browsable here.\n        </p>\n      </header>\n\n      <section className=\"mb-16 p-6 bg-gray-900 border border-gray-800 rounded-lg shadow-xl\">\n        <h2 className=\"text-3xl font-semibold text-sky-400 mb-6 border-b border-gray-700 pb-3\">Internal API Design</h2>\n        <pre className=\"whitespace-pre-wrap bg-gray-800 p-4 rounded-md text-sm font-mono overflow-x-auto\">{internalApiDesign}</pre>\n      </section>\n\n      <section className=\"p-6 bg-gray-900 border border-gray-800 rounded-lg shadow-xl\">\n        <h2 className=\"text-3xl font-semibold text-purple-400 mb-6 border-b border-gray-700 pb-3\">Model Context Protocol (MPC) Design</h2>\n        <pre className=\"whitespace-pre-wrap bg-gray-800 p-4 rounded-md text-sm font-mono overflow-x-auto\">{mpcDesign}</pre>\n      </section>\n    </div>\n  );\n}\n 